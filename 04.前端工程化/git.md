- `Git`è¯´æ˜[Git - Book (git-scm.com)](https://git-scm.com/book/zh/v2)

## Linuxå¸¸ç”¨å‘½ä»¤

- ls
  - æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶
  - listçš„ç¼©å†™
- cd
  - è¿›å…¥æŸä¸€ä¸ªæ–‡ä»¶å¤¹å†…
  - change directoryçš„ç¼©å†™
  - Tabé”®è‡ªåŠ¨è¡¥å…¨è·¯å¾„
  - cd ..
    - å›åˆ°ä¸Šä¸€çº§
  - cd /c
    - è¿›å…¥cç›˜
    - æ–œæ ä»£è¡¨æ ¹ç›®å½•
- clear
  - æ¸…å±
  - å¿«æ·é”®ctrl+l
- mkdir
  - æ–°å»ºæ–‡ä»¶å¤¹
  - mkdir æ–‡ä»¶å¤¹å
  - make directoryçš„ç¼©å†™
- touch
  - æ–°å»ºæ–‡ä»¶
  - touch æ–‡ä»¶å
- rm
  - åˆ é™¤æ–‡ä»¶
  - rm å‚æ•° æ–‡ä»¶å
    - å‚æ•°
      - -i
        - åˆ é™¤å‰é€ä¸€è¯¢é—®ç¡®è®¤
      - -f
        - å¼ºåˆ¶åˆ é™¤ï¼Œæ— è§†åªè¯»å±æ€§
      - -r
        - é€’å½’åˆ é™¤ï¼Œå¯åˆ é™¤æ–‡ä»¶å¤¹
      - -rf
        - å¼ºåˆ¶åˆ é™¤æ–‡ä»¶å¤¹
  - rm / -rf
    - åˆ é™¤ç¡¬ç›˜è™½æœ‰å†…å®¹
  - git rm --cached æ–‡ä»¶å
    - åˆ é™¤æš‚å­˜åŒºä¸­çš„æ–‡ä»¶
  - ç›´æ¥åˆ é™¤ï¼Œä¸ä¼šè¿›å…¥å›æ”¶ç«™
  - removeçš„ç¼©å†™
- mv
  - ç§»åŠ¨æ–‡ä»¶
  - mv æ–‡ä»¶å è·¯å¾„
    - ç§»åŠ¨æ–‡ä»¶åˆ°è·¯å¾„ä¸­
  - mv æ–‡ä»¶å 
-  --help / -h
  - è·å–å¸®åŠ©
  - git -h
  - ls --help

## Vim/Viå·¥ä½œæ¨¡å¼

- vi æ–‡ä»¶å
  - è¿›å…¥å‘½ä»¤æ¨¡å¼
- :wq
  - ä¿å­˜å¹¶é€€å‡ºå‘½ä»¤æ¨¡å¼
- :q!
  - ä¸ä¿å­˜å¹¶é€€å‡ºå‘½ä»¤æ¨¡å¼
- i/a/o
  - è¿›å…¥è¾“å…¥æ¨¡å¼
- ESCé”®
  - é€€å‡ºè¾“å…¥æ¨¡å¼
- ctrl + insert
  - å¤åˆ¶
- shift + insert
  - ç²˜è´´

![img](./images/vim-vi-workmodel.png)

## Gitä½¿ç”¨

### èµ·å§‹é…ç½®

- é…ç½®ç”¨æˆ·åå’Œé‚®ç®±

  ~~~bash
  git config --global user.name "Your Name"

  git config --global user.email "email@example.com"
  ~~~

- æŸ¥çœ‹é…ç½®ä¿¡æ¯

  ~~~bash
  git config -l
  ~~~

### åŸºæœ¬æ“ä½œ

- èµ·å§‹æ“ä½œ

  1. åˆ›å»ºå¹¶è¿›å…¥ç©ºæ–‡ä»¶
  2. è¿è¡ŒGit Bash
  3. ä»“åº“åˆå§‹åŒ–
     - git init
  4. åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶ 
     - index.html
  5. å°†æ–‡ä»¶çš„ä¿®æ”¹åŠ å…¥åˆ°æš‚å­˜åŒº
     - git add index.html
       - æ·»åŠ index.htmlæ–‡ä»¶çš„ä¿®æ”¹åˆ°æš‚å­˜åŒº
     - git add -A
       - æ·»åŠ æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹åˆ°æš‚å­˜åŒº
  6. æäº¤åˆ°ä»“åº“
     - git commit -m 'æ³¨é‡Š'
     - mä¸ºmesaageçš„ç¼©å†™

  ![img](./images/Git æ­¥éª¤æƒ…å†µä»‹ç».jpg)

### .gitç›®å½•

- hooksç›®å½•
  - åŒ…å«å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„é’©å­è„šæœ¬ï¼Œåœ¨ç‰¹å®šæ“ä½œä¸‹è‡ªåŠ¨æ‰§è¡Œ
- infoç›®å½•
  - åŒ…å«ä¸€ä¸ªå…¨å±€æ€§æ’é™¤æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®æ–‡ä»¶å¿½ç•¥
- logç›®å½•
  - æ—¥å¿—ä¿¡æ¯
  - ä½¿ç”¨git logæŸ¥çœ‹å†…å®¹
- objectsç›®å½•
  - æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œå­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹
- refsç›®å½•
  - æŒ‡å‘æ•°æ®çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆï¼ˆåˆ†æ”¯ï¼‰
- COMMIT_EDITMSGæ–‡ä»¶
  - æœ€åä¸€æ¬¡æäº¤æ—¶çš„æ–‡å­—è¯´æ˜
- configæ–‡ä»¶
  - é¡¹ç›®é…ç½®é€‰é¡¹
- descriptionæ–‡ä»¶
  - ä»“åº“çš„æè¿°ä¿¡æ¯
- HEADæ–‡ä»¶
  - æŒ‡ç¤ºç›®å‰è¢«æ£€å‡ºçš„åˆ†æ”¯
- indexæ–‡ä»¶
  - æš‚å­˜åŒºæ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶
  - ä½¿ç”¨git Is-filesæŸ¥çœ‹å†…å®¹

### ç‰ˆæœ¬åº“çš„ä¸‰ä¸ªåŒºåŸŸ

- ä¸‰ä¸ªåŒºåŸŸ
  - å·¥ä½œåŒºï¼ˆä»£ç ç¼–è¾‘åŒºï¼‰
  - æš‚å­˜åŒºï¼ˆä¿®æ”¹å¾…æäº¤ï¼‰
  - ä»“åº“åŒºï¼ˆä»£ç ä¿å­˜åŒºï¼‰
- ä½¿ç”¨[git add æ–‡ä»¶å]å‘½ä»¤ï¼Œå°†å·¥ä½œåŒºæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
  - git add --all / git add -A å°†é¡¹ç›®é‡Œæ‰€æœ‰çš„æ–‡ä»¶å˜åŠ¨éƒ½æ·»åŠ åˆ°æš‚å­˜åŒº
- ä½¿ç”¨[git commit]å‘½ä»¤ï¼Œå°†æš‚å­˜åŒºæ–‡ä»¶æäº¤åˆ°ä»“åº“åŒº

### å¸¸ç”¨å‘½ä»¤

- git status
  - ç‰ˆæœ¬çŠ¶æ€æŸ¥çœ‹
  - ä¿®æ”¹ä¿¡æ¯é¢œè‰²
    - çº¢è‰²ä»£è¡¨æ­¤ä¿®æ”¹åªå­˜åœ¨äºå·¥ä½œåŒº
    - ç»¿è‰²ä»£è¡¨æ¬¡ä¿®æ”¹å­˜åœ¨äºå·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼Œæœªæäº¤åˆ°ä»“åº“åŒº
- git log
  - æŸ¥çœ‹æ—¥å¿—ï¼ˆæäº¤è®°å½•ï¼‰ 
- git add -A
  - æ·»åŠ æ‰€æœ‰æ–°æ–‡ä»¶åˆ°æš‚å­˜åŒº
- git commit -m 'æ³¨é‡Š'
  - æäº¤ä¿®æ”¹å¹¶æ³¨é‡Š
- git diff
  - æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å·®å¼‚ï¼ˆä¸æ˜¾ç¤ºæ–°å¢æ–‡ä»¶ï¼‰ï¼Œæ˜¾ç¤ºåšäº†å“ªäº›ä¿®æ”¹
- git diff --cached
  - æŸ¥çœ‹æš‚å­˜åŒºä¸ä»“åº“-çš„å·®å¼‚
- git restore æ–‡ä»¶å
  - å¤åŸå·¥ä½œåŒºæœªæš‚å­˜çš„ä¿®æ”¹
- git restore --staged æ–‡ä»¶å
  - å¤åŸæš‚å­˜åŒºæœªæäº¤çš„ä¿®æ”¹

### å†å²ç‰ˆæœ¬å›æ»š

##### å›æ»š

- æŸ¥çœ‹å†å²è®°å½•
  - git log
    - å¦‚æœå†…å®¹åå¤šï¼Œéœ€è¦ä½¿ç”¨æ–¹å‘é”®ä¸Šä¸‹æ»šåŠ¨ï¼ŒæŒ‰qé€€å‡º
  - git log --oneline
    - æ—¥å¿—ç®€çŸ­ä¿¡æ¯
- æ ¹æ®ç‰ˆæœ¬å·è¿›è¡Œå›æ»š
  - git reset --æ¨¡å¼ å“ˆå¸Œå€¼å‰ä¸ƒä½ 
    - æ¨¡å¼
      - hard
        - å·¥ä½œåŒºï¼Œæš‚å­˜åŒºï¼Œä»“åº“éƒ½ä¼šè¢«é‡ç½®
      - soft
        - å·¥ä½œåŒºä¸å˜ï¼Œæš‚å­˜åŒºä¸ä»“åº“ä¼šè¢«é‡ç½®ï¼Œå·®å¼‚ä¿ç•™åœ¨æš‚å­˜åŒº
      - mixed
        - é»˜è®¤
        - å·¥ä½œåŒºä¸å˜ï¼Œæš‚å­˜åŒºæ¸…ç©ºï¼Œä»“åº“é‡ç½®ï¼Œå·®å¼‚ä¿ç•™åœ¨å·¥ä½œåŒº
- æŸ¥çœ‹æ‰€æœ‰çš„æ“ä½œè®°å½•
  - git reflog

### é…ç½®å¿½ç•¥æ–‡ä»¶

##### ä»“åº“ä¸­æ²¡æœ‰æäº¤çš„æ–‡ä»¶

- å¸¸è§çš„æƒ…å†µæœ‰

  1. ä¸´æ—¶æ–‡ä»¶
  2. å¤šåª’ä½“æ–‡ä»¶ï¼Œå¦‚éŸ³é¢‘ï¼Œè§†é¢‘ç­‰
  3. ç¼–è¾‘å™¨ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ï¼Œå¦‚.ideaæ–‡ä»¶å¤¹
  4. npmå®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—

- åˆ›å»ºä¸€ä¸ª.gitignoreæ–‡ä»¶ä»¥é…ç½®å¿½ç•¥ï¼Œä¸€èˆ¬ä¸.gitç›®å½•åŒçº§

  ~~~.gitignore
  # å¿½ç•¥æ‰€æœ‰çš„.ideaæ–‡ä»¶å¤¹å’Œæ–‡ä»¶
  .idea
  # å¿½ç•¥æ‰€æœ‰ä»¥.testç»“å°¾çš„æ–‡ä»¶
  *.test
  # å¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„node_modulesæ–‡ä»¶å’Œæ–‡ä»¶å¤¹
  /node_modules
  ~~~

##### ä»“åº“ä¸­å·²æäº¤çš„æ–‡ä»¶

1. å…ˆåœ¨æš‚å­˜åŒºä¸­åˆ é™¤è¯¥æ–‡ä»¶
   - git rm --cached æ–‡ä»¶å
2. åœ¨.gitignoreä¸­é…ç½®å¿½ç•¥
3. add+commit

### åˆ†æ”¯

- åˆ†æ”¯(Branch)æ˜¯Gité‡è¦çš„åŠŸèƒ½ç‰¹æ€§ä¹‹ä¸€ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ä¸»å¼€å‘çº¿çš„åŸºç¡€ä¸Šåˆ†ç¦»å‡ºæ–°çš„å¼€å‘çº¿
- ä¸»åˆ†æ”¯åä¸ºmaster

##### åŸºæœ¬æ“ä½œ

- åˆ›å»ºåˆ†æ”¯

  ~~~shell
  git branch åˆ†æ”¯å
  ~~~

- æŸ¥çœ‹åˆ†æ”¯

  ~~~shell
  git branch
  ~~~

- åˆ‡æ¢åˆ†æ”¯

  ~~~shell
  git checkout åˆ†æ”¯å
  ~~~

- åˆå¹¶åˆ†æ”¯

  ~~~shell
  git merge è¢«åˆå¹¶çš„åˆ†æ”¯å
  ~~~

  - è¢«åˆå¹¶çš„åˆ†æ”¯ä¸ä¼šè¢«åˆ é™¤

- åˆ é™¤åˆ†æ”¯

  ~~~shell
  git branch -d åˆ†æ”¯å
  ~~~

- åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯

  ~~~shell
  git checkout -b åˆ†æ”¯å
  ~~~

##### å†²çª

- å½“å¤šä¸ªåˆ†æ”¯ä¿®æ”¹åŒä¸€æ–‡ä»¶åï¼Œåˆå¹¶åˆ†æ”¯çš„æ—¶å€™ä¼šäº§ç”Ÿå†²çª
- git statuså¯å®šä½æœ‰å†²çªçš„æ–‡ä»¶
- å°†å†²çªå†…å®¹ä¿®æ”¹ä¸ºæœ€ç»ˆæƒ³è¦çš„ç»“æœï¼Œå¹¶é‡æ–°add+commit

## GitHub

- GitHubæ˜¯ä¸€ä¸ªGitä»“åº“ç®¡ç†ç½‘ç«™ï¼Œå¯ä»¥åˆ›å»ºè¿œç¨‹ä¸­å¿ƒä»“åº“ï¼Œä¸ºå¤šäººåˆä½œå¼€å‘æä¾›ä¾¿åˆ©

### å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“

1. æ³¨å†Œå¹¶æ¿€æ´»è´¦å·

2. åˆ›å»ºä»“åº“

3. è·å–ä»“åº“çš„åœ°å€

4. æœ¬åœ°é…ç½®è¿œç¨‹ä»“åº“çš„åœ°å€

   ```shell
   git remote add origin https://github.com/xiaohigh/test2.git  
   # è¿œç«¯ä»“åº“ç®¡ç†
   # add  æ·»åŠ 
   # origin è¿œç«¯ä»“åº“çš„åˆ«åï¼Œç”¨äºæŒ‡ä»£ä»“åº“ï¼Œå¯è‡ªå®šä¹‰ï¼Œé»˜è®¤ä¸ºorigin
   # https://github.com/xiaohigh/test2.git    ä»“åº“åœ°å€
   ```

5. æœ¬åœ°æäº¤ï¼ˆç¡®è®¤ä»£ç å·²ç»æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼‰

6. å°†æœ¬åœ°ä»“åº“å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“

   ```shell
   git push -u origin master:main
   # push æ¨é€
   # -u   --set-upstream çš„ç®€å†™, åŠ ä¸Šä»¥å,åç»­æäº¤æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ git push
   # origin è¿œç«¯ä»“åº“çš„åˆ«å
   # master æœ¬åœ°ä»“åº“çš„åˆ†æ”¯
   # :main æ¨é€åˆ°è¿œç«¯çš„mainåˆ†æ”¯ï¼Œå¯é€‰ï¼Œå¦‚çœç•¥ï¼Œåˆ™æ¨é€åˆ°è¿œç«¯çš„åŒååˆ†æ”¯
   ```

### å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°

1. æ³¨å†Œå¹¶æ¿€æ´»è´¦å·

2. å…‹éš†ä»“åº“

   ```shell
   git clone https://github.com/xiaohigh/test2.git é‡å‘½åæ–‡ä»¶å¤¹åï¼ˆå¯é€‰ï¼‰
   ```

3. å¢åŠ å’Œä¿®æ”¹ä»£ç 

4. æœ¬åœ°æäº¤

   ```shell
   git add -A
   git commit -m 'message'
   ```

5. æ¨é€åˆ°è¿œç¨‹

   ```shell
   git push origin master
   # å…‹éš†å›æ¥çš„ä»“åº“åˆ«åé»˜è®¤ä¸ºorigin
   ```

> å…‹éš†ä»£ç ä¹‹åï¼Œ æœ¬åœ°ä»“åº“ä¼šé»˜è®¤æœ‰ä¸€ä¸ªè¿œç¨‹åœ°å€çš„é…ç½®ï¼Œ åå­—ä¸º origin

### å¤šäººåˆä½œ

##### è´¦å·ä»“åº“é…ç½®

GitHub å›¢é˜Ÿåä½œå¼€å‘ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç®¡ç†ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç»„ç»‡

- é¦–é¡µ -> å³ä¸Šè§’ `+` å·-> new Organization
- å…è´¹è®¡åˆ’
- å¡«å†™ç»„ç»‡åç§°å’Œè”ç³»æ–¹å¼ï¼ˆä¸ç”¨ä½¿ç”¨ä¸­æ–‡åç§°ï¼‰
- é‚€è¯·å…¶ä»–å¼€å‘è€…è¿›å…¥ç»„ç»‡ï¼ˆä¼šæœ‰é‚®ä»¶é‚€è¯·ï¼‰

* ç‚¹å‡»ç»„ç»‡å³ä¾§çš„ settings è®¾ç½®
* å·¦ä¾§ Member privileges
* å³ä¾§ Base permissions è®¾ç½® write ğŸ‘Œ

##### åä½œæµç¨‹

ç¬¬ä¸€æ¬¡

* å¾—åˆ° Git è¿œç¨‹ä»“åº“çš„åœ°å€å’Œè´¦å·å¯†ç 

* å°†ä»£ç å…‹éš†åˆ°æœ¬åœ°ï¼ˆåœ°å€æ¢æˆè‡ªå·±çš„ï¼‰

  ```shell
  git clone https://github.com/xiaohigh/test.git
  ```

* åˆ‡æ¢åˆ†æ”¯

  ```
  git checkout -b xiaohigh
  ```

* å¼€å‘ä»£ç 

* æœ¬åœ°æäº¤

  ```shell
  git add -A
  git commit -m 'æ³¨é‡Šå†…å®¹'
  ```

* åˆå¹¶åˆ†æ”¯

  ```shell
  git checkout master
  git merge xiaohigh
  ```

* æ›´æ–°æœ¬åœ°ä»£ç 

  ```shell
  git pull
  # å®Œæ•´å†™æ³•ä¸º git pull åˆ«å åˆ†æ”¯å
  ```

* æäº¤ä»£ç 

  ```shell
  git push 
  ```

##### å·¥ä½œæµç¨‹

ç¬¬äºŒæ¬¡æµç¨‹

1. æ›´æ–°ä»£ç 

   ```shell
   git checkout master
   git pull
   ```

2. åˆ‡æ¢å¹¶åˆå¹¶åˆ†æ”¯

   ```shell
   git checkout xiaohigh
   git merge master
   ```

3. å¼€å‘åŠŸèƒ½

4. æäº¤

   ```shell
   git add -A
   git commit -m 'æ³¨é‡Š'
   ```

5. åˆå¹¶åˆ†æ”¯

   ```shell
   git checkout master
   git merge xiaohigh
   ```

6. æ›´æ–°ä»£ç 

   ```shell
   git pull
   ```

7. æ¨é€ä»£ç 

   ```shell
   git push
   ```

##### cloneä¸pull

- cloneä¼šæ‹‰å–è¿œç«¯ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯
- pullåªä¼šæ‹‰å–æŒ‡å®šçš„åˆ†æ”¯å†…å®¹

### GitFlow

- GitFlow æ˜¯å›¢é˜Ÿå¼€å‘çš„ä¸€ç§æœ€ä½³å®è·µï¼Œå°†ä»£ç åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªåˆ†æ”¯

![img](images/o_git-workflow-release-cycle-4maintenance.png)

- Master ä¸»åˆ†æ”¯ã€‚ä¸Šé¢åªä¿å­˜æ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬
- Hotfix  çº¿ä¸Šä»£ç  Bug ä¿®å¤åˆ†æ”¯ã€‚å¼€å‘å®Œåéœ€è¦åˆå¹¶å›Masterå’ŒDevelopåˆ†æ”¯ï¼ŒåŒæ—¶åœ¨Masterä¸Šæ‰“ä¸€ä¸ªtag
- feature åŠŸèƒ½åˆ†æ”¯ã€‚å½“å¼€å‘æŸä¸ªåŠŸèƒ½æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„åˆ†æ”¯ï¼Œå¼€å‘å®Œæ¯•åå†åˆå¹¶åˆ° dev åˆ†æ”¯
- Release åˆ†æ”¯ã€‚å¾…å‘å¸ƒåˆ†æ”¯ï¼ŒReleaseåˆ†æ”¯åŸºäºDevelopåˆ†æ”¯åˆ›å»ºï¼Œåœ¨è¿™ä¸ªReleaseåˆ†æ”¯ä¸Šæµ‹è¯•ï¼Œä¿®æ”¹Bug
- Develop å¼€å‘åˆ†æ”¯ã€‚å¼€å‘è€…éƒ½åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šæäº¤ä»£ç 

